(this["webpackJsonpCloud-Computing-Project"]=this["webpackJsonpCloud-Computing-Project"]||[]).push([[0],{172:function(e,t,a){},268:function(e,t,a){e.exports=a(542)},475:function(e,t,a){},538:function(e,t,a){},542:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(14),i=a.n(s),c=(a(172),a(67)),r=a(68),l=a(74),u=a(72),d=a(42),h=a.n(d),m=a(84),p=a(115),g={aws_app_analytics:"enable",aws_bots:"enable",aws_bots_config:[{name:"CovidSymptoms",alias:"$LATEST",description:"","bot-template":"bot-import","commands-help":[],region:"us-west-2"}],aws_cognito_identity_pool_id:"us-west-2:d3771c62-310b-49b6-8500-aacdc2cca3a2",aws_cognito_region:"us-west-2",aws_content_delivery:"enable",aws_content_delivery_bucket:"cloudcomputingprojec-hosting-mobilehub-180291652",aws_content_delivery_bucket_region:"us-west-2",aws_content_delivery_cloudfront:"enable",aws_content_delivery_cloudfront_domain:"db9130asxpbun.cloudfront.net",aws_mobile_analytics_app_id:"2bae3e0d3bea4d5b9d32b501907ecce9",aws_mobile_analytics_app_region:"us-east-1",aws_project_id:"a6923838-78df-4961-8ff5-83600869c83b",aws_project_name:"Cloud-Computing-Project-2020-04-28-22-57-35",aws_project_region:"us-west-2",aws_resource_name_prefix:"cloudcomputingprojec-mobilehub-180291652",aws_sign_in_enabled:"enable",aws_user_pools:"enable",aws_user_pools_id:"us-west-2_8av6o8gd7",aws_user_pools_mfa_type:"ON",aws_user_pools_web_client_id:"1fgto4rkg3t2i4dnphmfm8it8s"},b=a(50),f=a(541),w=a(31);b.default.configure(g);n.Component;var v={bubbleStyles:{text:{fontSize:16},chatbubble:{borderRadius:30,padding:10}},headerTitle:{display:"flex",flexDirection:"column",alignItems:"center",color:"white",fontSize:22},header:{backgroundColor:"rgb(0, 132, 255)",padding:5},messagesContainer:{display:"flex",flexDirection:"column",padding:10,alignItems:"center"},input:{fontSize:16,padding:10,outline:"none",width:350,border:"none",borderBottom:"2px solid rgb(0, 132, 255)"}},_=(a(258),a(578)),y=(a(574),a(577),a(573),a(95),_.a.Option,a(251),a(475),a(132)),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).generateChats=function(){return n.chatBox&&setTimeout((function(){n.chatBox.scrollTop=n.chatBox.scrollHeight}),2),n.props.chatLog.map((function(e){return o.a.createElement("div",{className:"chat",key:"chat-".concat(e.name,"-").concat(e.timestamp)},o.a.createElement("b",{className:"name",style:{color:e.alert?"#888":"#333"}},e.name)," ",o.a.createElement("span",{className:"msg"},e.message))}))},n.handleSend=function(e){n.props.webrtc.shout("chat",e),n.props.onSend(e)},n.handleKeyUp=function(e){13===e.keyCode&&("1"==n.state.input?n.state.initalMessage="symptom check":"2"==n.state.input&&(n.state.initalMessage="talk with experts"),"symptom check"==n.state.initalMessage?n.submitMessage():(n.handleSend(n.state.input),n.setState({input:""})))},n.handleInputChange=function(e){return n.setState({input:e.target.value})},n.state={input:"",finalMessage:"",initalMessage:"",messages:[new w.Message({id:1,message:""})]},n}return Object(r.a)(a,[{key:"submitMessage",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,a,n,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=this.state.input)){e.next=3;break}return e.abrupt("return");case 3:return a=new w.Message({id:0,message:t}),n="1"===t?[a]:[].concat(Object(m.a)(this.state.messages),[a]),this.setState({messages:n,input:""}),e.next=8,f.a.send("CovidSymptoms",t);case 8:o=e.sent,s=new w.Message({id:1,message:o.message}),n=[].concat(Object(m.a)(this.state.messages),[s]),this.setState({messages:n}),"Fulfilled"===o.dialogState&&"CovidSymptomsChecking"===o.intentName&&("self checking chat ending!",this.setState({finalMessage:"self checking chat ending!"}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.chatLog;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"chatHeader"},o.a.createElement("h1",{className:"title"},"P2P Chat Example"),o.a.createElement("hr",null)),o.a.createElement("div",{className:"chatBox",ref:function(t){return e.chatBox=t}},o.a.createElement("div",{className:"choice"},o.a.createElement("p",null,"Do you want to do symptom check or talk with our experts? type 1 for symtom check, 2 for talk with expert")),"symptom check"==this.state.initalMessage?o.a.createElement("div",{className:"chatbot"},o.a.createElement(w.ChatFeed,{messages:this.state.messages,hasInputField:!1,bubbleStyles:C.bubbleStyles})):o.a.createElement("div",null,t.length?this.generateChats():o.a.createElement("div",{className:"info"},o.a.createElement("p",null,"To test this component out, open this page in a new tab or send it to a friend.")))),o.a.createElement("hr",null),o.a.createElement("div",{className:"bottomBar"},o.a.createElement("input",{style:C.bubbleStyles,className:"chatInput",type:"text",placeholder:"Type a message...",onKeyUp:this.handleKeyUp,onChange:this.handleInputChange,value:this.state.input})))}}]),a}(n.Component),C={bubbleStyles:{text:{fontSize:16},chatbubble:{borderRadius:30,padding:10}}},E=Object(y.b)(k),S=(a(538),a(576));a(539);b.default.configure(g);var j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).join=function(e){return e.joinRoom("my-p2p-app-demo")},n.handleCreatedPeer=function(e,t){n.addChat("Peer-".concat(t.id.substring(0,5)," joined the room!")," ",!0)},n.handlePeerData=function(e,t,a,o){switch(t){case"chat":n.addChat("Peer-".concat(o.id.substring(0,5)),a);break;default:return}},n.addChat=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.setState({chatLog:n.state.chatLog.concat({name:e,message:"".concat(t),timestamp:"".concat(Date.now()),alert:a})})},n.state={chatLog:[],options:{debug:!0,dataOnly:!0}},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.chatLog,n=t.options;return o.a.createElement("div",{className:"App"},o.a.createElement(S.a,{className:"headerbar",bg:"dark",variant:"dark"},o.a.createElement("div",{class:"col-4"}),o.a.createElement("div",{class:"home col-4",className:"title"},o.a.createElement("div",{class:"h3"},"Covid-19 Symptom Checker"))),o.a.createElement("br",null),o.a.createElement(y.a,{options:n,onReady:this.join,onCreatedPeer:this.handleCreatedPeer,onReceivedPeerData:this.handlePeerData},o.a.createElement(E,{chatLog:a,onSend:function(t){return t&&e.addChat("Me",t)}})))}}]),a}(n.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()}},[[268,1,2]]]);
//# sourceMappingURL=main.cf11311d.chunk.js.map